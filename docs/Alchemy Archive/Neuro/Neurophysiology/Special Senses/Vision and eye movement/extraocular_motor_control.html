<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.536">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Nathaniel Giovanni Yomogida, SPT">
<meta name="author" content="Chloë Anne Kerstein, SPT">

<title>Yomogida &amp; Kerstein Lab - Extraocular Motor Control (CNIII, IV, VI)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../../">
<script src="../../../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../../../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../../../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../../../index.html">
    <span class="navbar-title">Yomogida &amp; Kerstein Lab</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../Alchemy Archive/archive_index.html"> 
<span class="menu-text">Archive</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../guide.html"> 
<span class="menu-text">Guide</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../journal club index.html"> 
<span class="menu-text">Journal Club</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#resources" id="toc-resources" class="nav-link active" data-scroll-target="#resources"><span class="header-section-number">1</span> Resources</a></li>
  <li><a href="#overview" id="toc-overview" class="nav-link" data-scroll-target="#overview"><span class="header-section-number">2</span> Overview</a>
  <ul class="collapse">
  <li><a href="#cranial-nerve-nuclei" id="toc-cranial-nerve-nuclei" class="nav-link" data-scroll-target="#cranial-nerve-nuclei"><span class="header-section-number">2.1</span> Cranial Nerve Nuclei</a></li>
  <li><a href="#nerve-pathways" id="toc-nerve-pathways" class="nav-link" data-scroll-target="#nerve-pathways"><span class="header-section-number">2.2</span> Nerve Pathways</a></li>
  </ul></li>
  <li><a href="#dysfunction" id="toc-dysfunction" class="nav-link" data-scroll-target="#dysfunction"><span class="header-section-number">3</span> Dysfunction</a></li>
  <li><a href="#viral-damage" id="toc-viral-damage" class="nav-link" data-scroll-target="#viral-damage"><span class="header-section-number">4</span> Viral Damage</a>
  <ul class="collapse">
  <li><a href="#case-study-rongies-2019" id="toc-case-study-rongies-2019" class="nav-link" data-scroll-target="#case-study-rongies-2019"><span class="header-section-number">4.1</span> Case study: Rongies (2019)</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Extraocular Motor Control (CNIII, IV, VI)</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Authors</div>
    <div class="quarto-title-meta-contents">
             <p>Nathaniel Yomogida, SPT </p>
             <p>Chloë Kerstein, SPT </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="resources" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Resources</h1>
<ul>
<li>Blumenfield Ch12, Ch13<span class="citation" data-cites="blumenfeldNeuroanatomyClinicalCases2022"><sup><a href="#ref-blumenfeldNeuroanatomyClinicalCases2022" role="doc-biblioref">1</a></sup></span></li>
</ul>
</section>
<section id="overview" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Overview</h1>
<p><a href="../../../../../Alchemy Archive/Neuro/Neuroanatomy/Cranial Nerves/CN3_Oculomotor.html">CN III Oculomotor nerve</a>, <a href="../../../../../Alchemy Archive/Neuro/Neuroanatomy/Cranial Nerves/CN4_Trochlear.html">CN IV Trochlear Nerve</a>, and <a href="../../../../../Alchemy Archive/Neuro/Neuroanatomy/Cranial Nerves/CN6_Abducens.html">CN VI Abducens Nerve</a> are responsible for controlling the <a href="../../../../../Alchemy Archive/Anatomy/OIANs/Extraocular muscles/extraocular_muscles.html">extraocular muscles</a><span class="citation" data-cites="blumenfeldNeuroanatomyClinicalCases2022"><sup><a href="#ref-blumenfeldNeuroanatomyClinicalCases2022" role="doc-biblioref">1</a></sup></span>.</p>
<ul>
<li><a href="../../../../../Alchemy Archive/Neuro/Neuroanatomy/Cranial Nerves/CN6_Abducens.html">CN VI Abducens Nerve</a> innervates the Lateral Rectus Muscle, which functions to abduct the eye laterally in the horizontal direction<span class="citation" data-cites="blumenfeldNeuroanatomyClinicalCases2022"><sup><a href="#ref-blumenfeldNeuroanatomyClinicalCases2022" role="doc-biblioref">1</a></sup></span>.</li>
<li><a href="../../../../../Alchemy Archive/Neuro/Neuroanatomy/Cranial Nerves/CN4_Trochlear.html">CN IV Trochlear Nerve</a> innervates the Superior Oblique muscle, which acts through a trochlea (pulley-like structure) to rotate the top of the eye medially and downward<span class="citation" data-cites="blumenfeldNeuroanatomyClinicalCases2022"><sup><a href="#ref-blumenfeldNeuroanatomyClinicalCases2022" role="doc-biblioref">1</a></sup></span>.</li>
<li><a href="../../../../../Alchemy Archive/Neuro/Neuroanatomy/Cranial Nerves/CN3_Oculomotor.html">CN III Oculomotor nerve</a> innervates all the other extraocular muscles to perform the rest of the eye’s movements.</li>
</ul>
<section id="cranial-nerve-nuclei" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="cranial-nerve-nuclei"><span class="header-section-number">2.1</span> Cranial Nerve Nuclei</h2>
<ul>
<li>The <a href="../../../../../Alchemy Archive/Neuro/Neuroanatomy/Cranial Nerves/Cranial Nerve Nuclei/oculomotor_nucleus.html">oculomotor nucleus</a> (CN III) and the <a href="../../../../../Alchemy Archive/Neuro/Neuroanatomy/Cranial Nerves/Cranial Nerve Nuclei/trochlear_nucleus.html">Trochlear nucleus</a> (CN IV) are located in the midbrain</li>
<li>The <a href="../../../../../Alchemy Archive/Neuro/Neuroanatomy/Cranial Nerves/Cranial Nerve Nuclei/abducens_nucleus.html">abducens nucleus</a> (CN VI) is found in the pons<span class="citation" data-cites="blumenfeldNeuroanatomyClinicalCases2022"><sup><a href="#ref-blumenfeldNeuroanatomyClinicalCases2022" role="doc-biblioref">1</a></sup></span>.</li>
</ul>
</section>
<section id="nerve-pathways" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="nerve-pathways"><span class="header-section-number">2.2</span> Nerve Pathways</h2>
<!--
::: {layout-ncol=3}

!["Ventral view of Surface Anatomy of the brainstem and cranial nerves (from fig12.2 of Blumenfeld @blumenfeldNeuroanatomyClinicalCases2022)"](/Alchemy Archive/Neuro/Neuroanatomy/Cranial Nerves/images/fig12.2A Surface anatomy of the brainstem and cranial nerves blumenfield2022.png)

!["Dorsal view of Surface Anatomy of the brainstem and cranial nerves (from fig12.2 of Blumenfeld @blumenfeldNeuroanatomyClinicalCases2022)"](/Alchemy Archive/Neuro/Neuroanatomy/Cranial Nerves/images/fig12.2B Surface anatomy of the brainstem and cranial nerves blumenfield2022.png)

!["Lateral view of the surface Anatomy of the brainstem and cranial nerves (from fig12.2 of Blumenfeld @blumenfeldNeuroanatomyClinicalCases2022)"](/Alchemy Archive/Neuro/Neuroanatomy/Cranial Nerves/images/fig12.2C Surface anatomy of the brainstem and cranial nerves blumenfield2022.png)
:::
-->
<p>Exit:</p>
<ul>
<li>CN III exits the midbrain <strong>ventrally</strong> in the interpeduncular fossa<span class="citation" data-cites="blumenfeldNeuroanatomyClinicalCases2022"><sup><a href="#ref-blumenfeldNeuroanatomyClinicalCases2022" role="doc-biblioref">1</a></sup></span>.</li>
<li>CN IV exits the midbrain <strong>dorsally</strong> from the inferior tectum<span class="citation" data-cites="blumenfeldNeuroanatomyClinicalCases2022"><sup><a href="#ref-blumenfeldNeuroanatomyClinicalCases2022" role="doc-biblioref">1</a></sup></span>.</li>
<li>CN VI exits the pons ventrally at the pontomedullary junction<span class="citation" data-cites="blumenfeldNeuroanatomyClinicalCases2022"><sup><a href="#ref-blumenfeldNeuroanatomyClinicalCases2022" role="doc-biblioref">1</a></sup></span>.</li>
</ul>
<p>Pathway:</p>
<ul>
<li>All 3 of these nerves traverse the cavernous sinus and then leave the skull through the superior orbital fissure to synapse and innervate the <a href="../../../../../Alchemy Archive/Anatomy/OIANs/Extraocular muscles/extraocular_muscles.html">extraocular muscles</a><span class="citation" data-cites="blumenfeldNeuroanatomyClinicalCases2022"><sup><a href="#ref-blumenfeldNeuroanatomyClinicalCases2022" role="doc-biblioref">1</a></sup></span>.</li>
</ul>
</section>
</section>
<section id="dysfunction" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Dysfunction</h1>
<p>Dysfunction of these nerves commonly presents as diploplia or extraocular muscle paralysis<span class="citation" data-cites="rongiesPhysiotherapyPostinfectionInjury2019"><sup><a href="#ref-rongiesPhysiotherapyPostinfectionInjury2019" role="doc-biblioref">2</a></sup></span>.</p>
</section>
<section id="viral-damage" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Viral Damage</h1>
<p>Although a rarely used option, physical therapy (PT) can be effective to rehabilitate CN III and VI damage and even has advantages over traditional approaches<span class="citation" data-cites="rongiesPhysiotherapyPostinfectionInjury2019"><sup><a href="#ref-rongiesPhysiotherapyPostinfectionInjury2019" role="doc-biblioref">2</a></sup></span>. Theoretically, physical therapy is better than traditional options since it is non-invasive and does not utilize first-pass metabolism drugs<span class="citation" data-cites="rongiesPhysiotherapyPostinfectionInjury2019"><sup><a href="#ref-rongiesPhysiotherapyPostinfectionInjury2019" role="doc-biblioref">2</a></sup></span>.</p>
<section id="case-study-rongies-2019" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="case-study-rongies-2019"><span class="header-section-number">4.1</span> Case study: Rongies (2019)</h2>
<p>A case study by Rongies et al., (2019)<span class="citation" data-cites="rongiesPhysiotherapyPostinfectionInjury2019"><sup><a href="#ref-rongiesPhysiotherapyPostinfectionInjury2019" role="doc-biblioref">2</a></sup></span> discussed and outlined the physical therapy rehabilitation of a patient who experienced <a href="../../../../../Alchemy Archive/Neuro/Neuroanatomy/Cranial Nerves/CN3_Oculomotor.html">CN III</a>, IV, and VI damage resulting in extraocular muscle paralysis due to bacterial infection<span class="citation" data-cites="rongiesPhysiotherapyPostinfectionInjury2019"><sup><a href="#ref-rongiesPhysiotherapyPostinfectionInjury2019" role="doc-biblioref">2</a></sup></span>. The patient received natural and synthetic antibiotics and steroids to resolve the acute signs of infection, but this did not yield any functional improvement<span class="citation" data-cites="rongiesPhysiotherapyPostinfectionInjury2019"><sup><a href="#ref-rongiesPhysiotherapyPostinfectionInjury2019" role="doc-biblioref">2</a></sup></span>. Rongies et al., found full and rapid resolution of extraocular paralysis and diploplia using periorbital hydrocortisone iontophoresis, visuomotor exercises combined with intense ideomotor stimulation<span class="citation" data-cites="rongiesPhysiotherapyPostinfectionInjury2019"><sup><a href="#ref-rongiesPhysiotherapyPostinfectionInjury2019" role="doc-biblioref">2</a></sup></span>.</p>
<p>Interventions</p>
<ul>
<li>Iontophoresis
<ul>
<li>Iontophoretic treatment of various ophthalmic conditions<span class="citation" data-cites="rongiesPhysiotherapyPostinfectionInjury2019"><sup><a href="#ref-rongiesPhysiotherapyPostinfectionInjury2019" role="doc-biblioref">2</a></sup></span>.</li>
<li>Used as a means of noninvasive, transdermal drug delivery</li>
<li>Performed in the orbital region affected by extraocular muscle palsy ( The selected technique of ocular iontophoresis was indirect, through a closed eyelid)<span class="citation" data-cites="rongiesPhysiotherapyPostinfectionInjury2019"><sup><a href="#ref-rongiesPhysiotherapyPostinfectionInjury2019" role="doc-biblioref">2</a></sup></span>.</li>
<li>Drug: Corhydron 100 [hydrocortisone] at 50 mg/5mL of a sodium chloride solution as a solvent<span class="citation" data-cites="rongiesPhysiotherapyPostinfectionInjury2019"><sup><a href="#ref-rongiesPhysiotherapyPostinfectionInjury2019" role="doc-biblioref">2</a></sup></span>.</li>
<li>The procedure used direct (or galvanic) current.</li>
<li>Duration of each single iontophoresis procedure was 20 minutes<span class="citation" data-cites="rongiesPhysiotherapyPostinfectionInjury2019"><sup><a href="#ref-rongiesPhysiotherapyPostinfectionInjury2019" role="doc-biblioref">2</a></sup></span></li>
<li>Pt position: Upright sitting position with head and forearms supported (to enable observation of autonomic nervous system related adverse effects)<span class="citation" data-cites="rongiesPhysiotherapyPostinfectionInjury2019"><sup><a href="#ref-rongiesPhysiotherapyPostinfectionInjury2019" role="doc-biblioref">2</a></sup></span>.</li>
</ul></li>
<li>Exercise
<ul>
<li>Exercise performed immediately after iontophoresis<span class="citation" data-cites="rongiesPhysiotherapyPostinfectionInjury2019"><sup><a href="#ref-rongiesPhysiotherapyPostinfectionInjury2019" role="doc-biblioref">2</a></sup></span>.</li>
<li>30-minute set of PT supervised exercises<span class="citation" data-cites="rongiesPhysiotherapyPostinfectionInjury2019"><sup><a href="#ref-rongiesPhysiotherapyPostinfectionInjury2019" role="doc-biblioref">2</a></sup></span>.</li>
<li>Breaks
<ul>
<li>Allowed if: 1. Pt reported feeling of muscle fatigue or 2. distinct deceleration of eyeball movements was observed</li>
<li>Frequency of breaks: gradually decreased from every several seconds to every 2 minutes</li>
</ul></li>
<li>Exercise Type: Attempts to follow with the gaze an object (patient’s hand) moving diagonally in space (in alternate pattern), with additional simultaneous ideomotor stimulation<span class="citation" data-cites="rongiesPhysiotherapyPostinfectionInjury2019"><sup><a href="#ref-rongiesPhysiotherapyPostinfectionInjury2019" role="doc-biblioref">2</a></sup></span>.</li>
<li>The amplitude of movement progressively increased during the rehabilitation sessions. The patient performed his exercises in sitting and standing positions positions which improved comfort by avoiding forced position. His head was still. Each exercise session was conducted in setting that limited the patient’s distraction. The patient was advised to perform these exercises at home 2-3 times a day. The outcome measures for this study were the range of eye movement, reaction times during eye movement and muscle endurance, in comparison with these in the unaffected eye. The results were evaluated visually by 3 independent researchers who were not involved in the process of treatment. The range of movement improvement has been documented in the picture.</li>
</ul></li>
<li>Results:
<ul>
<li>Rongies used daily physical therapy and the patient regained distinct movement within 4 days<span class="citation" data-cites="rongiesPhysiotherapyPostinfectionInjury2019"><sup><a href="#ref-rongiesPhysiotherapyPostinfectionInjury2019" role="doc-biblioref">2</a></sup></span>.</li>
<li>By session 16, the patient displayed complete return of function in all paralyzed muscles<span class="citation" data-cites="rongiesPhysiotherapyPostinfectionInjury2019"><sup><a href="#ref-rongiesPhysiotherapyPostinfectionInjury2019" role="doc-biblioref">2</a></sup></span>.</li>
</ul></li>
</ul>



</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body" role="list">
<div id="ref-blumenfeldNeuroanatomyClinicalCases2022" class="csl-entry" role="listitem">
<div class="csl-left-margin">1. </div><div class="csl-right-inline">Blumenfeld H. <em>Neuroanatomy Through Clinical Cases</em>. 3rd ed. <span>Oxford university press</span>; 2022.</div>
</div>
<div id="ref-rongiesPhysiotherapyPostinfectionInjury2019" class="csl-entry" role="listitem">
<div class="csl-left-margin">2. </div><div class="csl-right-inline">Rongies W, Bojakowski J, Koktysz L, Dolecki W, Lewińska AO, Krzeski A. Physiotherapy in <span>Postinfection Injury</span> to <span>Cranial Nerves III</span>, <span>IV</span>, and <span>VI</span>: <span>A Case Study</span>. <em>American Journal of Physical Medicine &amp; Rehabilitation</em>. 2019;98(6):e57-e59. doi:<a href="https://doi.org/10.1097/PHM.0000000000001060">10.1097/PHM.0000000000001060</a></div>
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>